<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color="light"></ion-back-button>
    </ion-buttons>
    <div class="px-4 text-white text-lg">Job Details</div>
  </ion-toolbar>
  <div *ngIf="data" style="background-color: #fff; padding: 3px">
    <ion-row align="left" class="pl-2">
      <ion-col size="12">
        <ion-label><b> {{data.attributes.title}}</b></ion-label>
        <p>
          <!-- {{data.attributes.author.data.attributes.job_profile.data.attributes.companyName}} -->
        </p>
        <p>
          ₹ {{data.attributes.salaryFrom}} - ₹ {{data.attributes.salaryUpto}}
          &nbsp;
          <span>
            <button
              size="small"
              fill="clear"
              color="danger"
              style="
                background-color: red;
                font-size: small;
                font-weight: bold;
                color: #fff;
                padding: 5px;
                border-radius: 3px;
              "
            >
              {{data.attributes.vacancies}} Opening(s)
            </button>
          </span>
        </p>
      </ion-col>
    </ion-row>
  </div>
</ion-header>

<ion-content *ngIf="data">
  <div class="p-4">
    <!-- {{data|json}} -->
    <div>This job requires</div>

    <p class="pl-2">
      <button
        *ngFor="let skill of skills;let i=index"
        class="bg-red-600 rounded-full px-2 py-1 text-white mr-4 mt-2 text-sm"
      >
        <ion-icon style="font-size: small" name="checkmark"></ion-icon>
        {{skill |uppercase}}
      </button>

      <!-- <ion-chip color="warning">
      <ion-label>Warning</ion-label>
    </ion-chip>
    <ion-chip color="danger">
      <ion-label>Danger</ion-label>
    </ion-chip> -->
    </p>

    <ion-grid fixed>
      <ion-row class="pl-2 pr-2">
        <ion-col size="1">
          <ion-icon name="book-outline"></ion-icon>
        </ion-col>
        <ion-col size="5" align="left">
          <ion-label style="color: black; font-weight: 500"
            >Minimum Education</ion-label
          >
          <p style="font-size: 1em; color: rgb(121, 121, 121)">
            {{data.attributes.minimumEducation }}
          </p>
        </ion-col>
        <ion-col size="1">
          <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
        </ion-col>
        <ion-col size="5" align="left">
          <ion-label style="color: black; font-weight: 500"
            >English Level</ion-label
          >
          <p style="font-size: 1em; color: rgb(121, 121, 121)">
            {{data.attributes.english }}
          </p>
        </ion-col>
        <ion-col size="1">
          <ion-icon name="star-outline"></ion-icon>
        </ion-col>
        <ion-col size="11" align="left">
          <ion-label style="color: black; font-weight: 500"
            >Experience</ion-label
          >
          <p style="font-size: 1em; color: rgb(121, 121, 121)">
            {{data.attributes.experience }}
          </p>
        </ion-col>
        <ion-col size="1">
          <ion-icon name="bag-handle-outline"></ion-icon>
        </ion-col>
        <ion-col size="11" align="left">
          <ion-label style="color: black; font-weight: 500"
            >Description</ion-label
          >
          <p style="font-size: 1em; color: rgb(121, 121, 121)">
            {{data.attributes.description }}
          </p>
        </ion-col>
        <ion-col size="1">
          <ion-icon name="time-outline"></ion-icon>
        </ion-col>
        <ion-col size="11" align="left">
          <ion-label style="color: black; font-weight: 500">Timings</ion-label>
          <p style="font-size: 1em; color: rgb(121, 121, 121)">
            {{data.attributes.timings }}
          </p>
        </ion-col>
        <ion-col size="1">
          <ion-icon name="today-outline"></ion-icon>
        </ion-col>
        <ion-col size="11" align="left">
          <ion-label style="color: black; font-weight: 500"
            >Working Days</ion-label
          >
          <p style="font-size: 1em; color: rgb(121, 121, 121)">
            {{data.attributes.workingDays }}
          </p>
        </ion-col>
        <ion-col size="1">
          <ion-icon name="location-outline"></ion-icon>
        </ion-col>
        <ion-col size="11" align="left">
          <ion-label style="color: black; font-weight: 500">City</ion-label>
          <p style="font-size: 1em; color: rgb(121, 121, 121)">
            {{data.attributes.city|titlecase }}
          </p>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>

<ion-footer class="flex">
  <div class="flex-1" *ngIf="data && data.attributes.contactNumber">
    <button
      (click)="call(data)"
      style="width: 100%"
      class="bg-blue-700 text-white py-4 shadow-md"
    >
      Click To Call 
    </button>
  </div>
  <div class="flex-1">
    <button
      (click)="apply()"
      [disabled]="jobApplied"
      style="width: 100%"
      class="bg-red-600 text-white py-4 shadow-md"
      [ngClass]="{'bg-red-400': jobApplied}"
    >
      {{jobApplied?"Already Applied":"APPLY "}}
    </button>
  </div>
</ion-footer>
